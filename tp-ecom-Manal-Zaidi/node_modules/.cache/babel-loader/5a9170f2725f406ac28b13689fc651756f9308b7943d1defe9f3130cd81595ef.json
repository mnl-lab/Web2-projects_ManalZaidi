{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.filter.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nexport default {\n  data() {\n    return {\n      txt: \"\",\n      dp: \"true\",\n      filter: \"\",\n      small: \"\",\n      tri: \"\",\n      panier: [],\n      sp: false,\n      pieces: []\n    };\n  },\n  computed: {\n    filteredItems() {\n      return [...new Set(this.pieces.map(piece => piece[this.filter]))].map(value => ({\n        [this.filter]: value\n      }));\n    },\n    filteredPieces() {\n      let filtered = this.pieces;\n      if (this.txt !== \"\") {\n        filtered = filtered.filter(piece => piece.nom.toLowerCase().includes(this.txt.toLowerCase()));\n      }\n      if (this.dp === \"true\") {\n        filtered = filtered.filter(piece => piece.dispo);\n      } else {\n        filtered = filtered.filter(piece => !piece.dispo);\n      }\n      if (this.filter && this.small) {\n        filtered = filtered.filter(piece => piece[this.filter] === this.small);\n      }\n      if (!this.tri) {\n        return filtered;\n      }\n      return filtered.sort((a, b) => {\n        if (this.tri === \"asc\") return a.prix - b.prix;\n        if (this.tri === \"desc\") return b.prix - a.prix;\n        return 0;\n      });\n    }\n  },\n  mounted() {\n    fetch('http://localhost:3000/pieces').then(response => response.json()).then(data => this.pieces = data).catch(console.error);\n  }\n};","map":{"version":3,"names":["data","txt","dp","filter","small","tri","panier","sp","pieces","computed","filteredItems","Set","map","piece","value","filteredPieces","filtered","nom","toLowerCase","includes","dispo","sort","a","b","prix","mounted","fetch","then","response","json","catch","console","error"],"sources":["C:\\Users\\utilisateur\\S4\\Web 2\\Web2-projects_ManalZaidi\\tp-ecom-Manal-Zaidi\\src\\App.vue"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <header>\n      <img src=\"/images/logo-les-bonnes-pieces.png\" alt=\"LOGO\">\n      <h1>Les Bonnes Pièces</h1>\n    </header>\n    <main>\n      <section class=\"filtres\">\n        <h3>Filtres</h3>\n        <div id=\"filter-select\">\n          <label for=\"txt\">Entrez le nom du produit</label>\n          <input type=\"text\" v-model=\"txt\">\n          <label for=\"dp\">Disponibilité</label>\n          <select v-model=\"dp\">\n            <option value=\"true\" selected disabled> -- Choisir Disponibilité --</option>\n            <option value=\"true\">Oui</option>\n            <option value=\"false\">non</option>\n          </select>\n          <label for=\"filter\">Filtrer par</label>\n          <select v-model=\"filter\">\n            <option value=\"\" selected disabled>-- Choisir un filtre --</option>\n            <option value=\"id\">ID</option>\n            <option value=\"nom\">Nom</option>\n            <option value=\"prix\">Prix</option>\n            <option value=\"categorie\">Catégorie</option>\n\n          </select>\n          <select v-show=\"filter\" v-model=\"small\">\n\n            <option value=\"\" selected disabled>-- Filtrer selon --</option>\n            <option v-for=\"item in filteredItems\" :value=\"item[filter]\" :key=\"item[filter]\">\n              {{ item[filter] }}\n            </option>\n          </select>\n          <select v-model=\"tri\" v-show=\"filter && small\">\n\n            <option value=\"\" selected disabled>-- Trier prix --</option>\n            <option value=\"asc\">Croissant</option>\n            <option value=\"desc\">Décroissant</option>\n          </select>\n        </div>\n      </section>\n\n      <section class=\"fiches\">\n        <div v-for=\"piece in filteredPieces\" :key=\"piece.id\" class=\"fiche\">\n          <div class=\"dis\">\n            <p>ID: {{ piece.id }}</p>\n            <p>Nom: {{ piece.nom }}</p>\n            <p>Prix: {{ piece.prix + '€' }}</p>\n            <p>Catégorie: {{ piece.categorie }}</p>\n            <p>Disponibilité: {{ (piece.dispo ? 'Oui' : 'Non') }}</p>\n            <button @click=\"panier.push(piece)\" v-show=\"piece.dispo\">Ajouter au panier</button>\n          </div>\n          <div class=\"ich\">\n            <img :src=\"piece.img\" :alt=\"'Image de ' + piece.nom\">\n          </div>\n\n        </div>\n      </section>\n      <section class=\"panier\">\n        <input type=\"checkbox\" v-model=\"sp\"> Afficher panier\n        <div id=\"panier\" v-show=\"sp\">\n          <div v-for=\"piece in panier\" :key=\"piece.id\">\n            {{ piece.nom }}\n          <button @click=\"panier.splice(panier.indexOf(piece), 1)\">Supprimer</button>\n        </div>\n        </div>\n      </section>\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      txt: \"\",\n      dp: \"true\",\n      filter: \"\",\n      small: \"\",\n      tri: \"\",\n      panier: [],\n      sp: false,\n      pieces: []\n    }\n  },\n\n  computed: {\n    filteredItems() {\n      return [...new Set(this.pieces.map(piece => piece[this.filter]))]\n        .map(value => ({ [this.filter]: value }));\n    },\n    filteredPieces() {\n      let filtered = this.pieces;\n\n      if (this.txt !== \"\") {\n        filtered = filtered.filter(piece => piece.nom.toLowerCase().includes(this.txt.toLowerCase()));\n      }\n\n      if (this.dp === \"true\") {\n        filtered = filtered.filter(piece => piece.dispo);\n      } else {\n        filtered = filtered.filter(piece => !piece.dispo);\n      }\n\n      if (this.filter && this.small) {\n        filtered = filtered.filter(piece => piece[this.filter] === this.small);\n      }\n\n      if (!this.tri) {\n        return filtered;\n      }\n\n      return filtered.sort((a, b) => {\n\n        if (this.tri === \"asc\") return a.prix - b.prix;\n        if (this.tri === \"desc\") return b.prix - a.prix;\n        return 0;\n      });\n    }\n  },\n\n  mounted() {\n    fetch('http://localhost:3000/pieces')\n      .then(response => response.json())\n      .then(data => this.pieces = data)\n      .catch(console.error);\n  }\n}\n</script>\n\n<style>\n@import './assets/styles.css';\n</style>\n"],"mappings":";;;;;;;;;;AAyEA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,GAAG,EAAE,EAAE;MACPC,EAAE,EAAE,MAAM;MACVC,MAAM,EAAE,EAAE;MACVC,KAAK,EAAE,EAAE;MACTC,GAAG,EAAE,EAAE;MACPC,MAAM,EAAE,EAAE;MACVC,EAAE,EAAE,KAAK;MACTC,MAAM,EAAE;IACV;EACF,CAAC;EAEDC,QAAQ,EAAE;IACRC,aAAaA,CAAA,EAAG;MACd,OAAO,CAAC,GAAG,IAAIC,GAAG,CAAC,IAAI,CAACH,MAAM,CAACI,GAAG,CAACC,KAAI,IAAKA,KAAK,CAAC,IAAI,CAACV,MAAM,CAAC,CAAC,CAAC,EAC7DS,GAAG,CAACE,KAAI,KAAM;QAAE,CAAC,IAAI,CAACX,MAAM,GAAGW;MAAM,CAAC,CAAC,CAAC;IAC7C,CAAC;IACDC,cAAcA,CAAA,EAAG;MACf,IAAIC,QAAO,GAAI,IAAI,CAACR,MAAM;MAE1B,IAAI,IAAI,CAACP,GAAE,KAAM,EAAE,EAAE;QACnBe,QAAO,GAAIA,QAAQ,CAACb,MAAM,CAACU,KAAI,IAAKA,KAAK,CAACI,GAAG,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAClB,GAAG,CAACiB,WAAW,CAAC,CAAC,CAAC,CAAC;MAC/F;MAEA,IAAI,IAAI,CAAChB,EAAC,KAAM,MAAM,EAAE;QACtBc,QAAO,GAAIA,QAAQ,CAACb,MAAM,CAACU,KAAI,IAAKA,KAAK,CAACO,KAAK,CAAC;MAClD,OAAO;QACLJ,QAAO,GAAIA,QAAQ,CAACb,MAAM,CAACU,KAAI,IAAK,CAACA,KAAK,CAACO,KAAK,CAAC;MACnD;MAEA,IAAI,IAAI,CAACjB,MAAK,IAAK,IAAI,CAACC,KAAK,EAAE;QAC7BY,QAAO,GAAIA,QAAQ,CAACb,MAAM,CAACU,KAAI,IAAKA,KAAK,CAAC,IAAI,CAACV,MAAM,MAAM,IAAI,CAACC,KAAK,CAAC;MACxE;MAEA,IAAI,CAAC,IAAI,CAACC,GAAG,EAAE;QACb,OAAOW,QAAQ;MACjB;MAEA,OAAOA,QAAQ,CAACK,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;QAE7B,IAAI,IAAI,CAAClB,GAAE,KAAM,KAAK,EAAE,OAAOiB,CAAC,CAACE,IAAG,GAAID,CAAC,CAACC,IAAI;QAC9C,IAAI,IAAI,CAACnB,GAAE,KAAM,MAAM,EAAE,OAAOkB,CAAC,CAACC,IAAG,GAAIF,CAAC,CAACE,IAAI;QAC/C,OAAO,CAAC;MACV,CAAC,CAAC;IACJ;EACF,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACRC,KAAK,CAAC,8BAA8B,EACjCC,IAAI,CAACC,QAAO,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,EAChCF,IAAI,CAAC3B,IAAG,IAAK,IAAI,CAACQ,MAAK,GAAIR,IAAI,EAC/B8B,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC;EACzB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}